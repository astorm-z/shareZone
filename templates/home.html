{% extends "base.html" %}

{% block title %}é¦–é¡µ - å…±äº«ç©ºé—´{% endblock %}

{% block content %}
<div class="home-container">
    <div class="home-card clay-card">
        <h1 class="home-title">å…±äº«ç©ºé—´</h1>

        <!-- å…¬å‘ŠåŒº -->
        <div class="announcement-box">
            <div class="announcement-header">
                <span class="announcement-icon">ğŸ“¢</span>
                <span class="announcement-title">é¡¹ç›®è¯´æ˜</span>
            </div>
            <div class="announcement-wrapper" onclick="toggleAnnouncement()">
                <div class="announcement-content collapsed" id="announcementContent">
                <p><strong>æ¬¢è¿ä½¿ç”¨å…±äº«ç©ºé—´ï¼</strong></p>
                <p>è¿™æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ–‡ä»¶å’Œæ–‡æœ¬å…±äº«å·¥å…·ï¼Œè®©ä½ å¯ä»¥å¿«é€Ÿåˆ›å»ºç§å¯†ç©ºé—´ï¼Œåœ¨ä¸åŒè®¾å¤‡é—´ä¼ è¾“å†…å®¹ã€‚</p>

                <p><strong>ä¸»è¦åŠŸèƒ½ï¼š</strong></p>
                <ul>
                    <li>åˆ›å»ºå¤šä¸ªç‹¬ç«‹çš„å…±äº«ç©ºé—´ï¼Œæ¯ä¸ªç©ºé—´æœ‰ç‹¬ç«‹å¯†ç ä¿æŠ¤</li>
                    <li>æ”¯æŒæ–‡æœ¬å’Œæ–‡ä»¶ä¸Šä¼ ï¼ˆæœ€å¤§20MBï¼‰</li>
                    <li>æ”¯æŒ Ctrl+V å¿«æ·ç²˜è´´ä¸Šä¼ </li>
                    <li>æ”¯æŒå›¾ç‰‡é¢„è§ˆå’Œæ–‡æœ¬ç¼–è¾‘</li>
                </ul>

                <p><strong>è¿‡æœŸè§„åˆ™ï¼š</strong></p>
                <ul>
                    <li>ğŸ“… æ–‡ä»¶è¿‡æœŸæ—¶é—´ï¼šä¸Šä¼ å <strong>24å°æ—¶</strong> è‡ªåŠ¨åˆ é™¤</li>
                    <li>ğŸ“… ç©ºé—´è¿‡æœŸæ—¶é—´ï¼šæœ€åè®¿é—®å <strong>24å°æ—¶</strong> è‡ªåŠ¨åˆ é™¤</li>
                    <li>ğŸ”„ ç³»ç»Ÿæ¯ <strong>10åˆ†é’Ÿ</strong> è‡ªåŠ¨æ¸…ç†è¿‡æœŸå†…å®¹</li>
                    <li>ğŸ’¡ å»ºè®®åŠæ—¶ä¸‹è½½é‡è¦æ–‡ä»¶ï¼Œé¿å…è¿‡æœŸä¸¢å¤±</li>
                </ul>

                <p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
                <ul>
                    <li>âš ï¸ è¯·å‹¿ä¸Šä¼ æ•æ„Ÿæˆ–é‡è¦æ–‡ä»¶ï¼Œæœ¬é¡¹ç›®ä»…ä¾›ä¸ªäººå­¦ä¹ ä½¿ç”¨</li>
                    <li>âš ï¸ æ–‡ä»¶å­˜å‚¨åœ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œè¯·å®šæœŸå¤‡ä»½é‡è¦æ•°æ®</li>
                    <li>âš ï¸ å•ä¸ªæ–‡ä»¶å¤§å°é™åˆ¶ä¸º 20MB</li>
                    <li>âš ï¸ è¯·å¦¥å–„ä¿ç®¡ç©ºé—´å¯†ç ï¼Œå¯†ç ä¸¢å¤±æ— æ³•æ‰¾å›</li>
                </ul>
            </div>
            <div class="announcement-hint collapsed" id="announcementHint">
                <span class="hint-text"></span>
                <span class="hint-icon">â–¼</span>
            </div>
            </div>
        </div>

        <div class="home-actions">
            <button class="clay-btn-primary" onclick="showCreateModal()">åˆ›å»ºå…±äº«ç©ºé—´</button>
            <button class="clay-btn-secondary" onclick="showEnterModal()">è¿›å…¥å…±äº«ç©ºé—´</button>
        </div>

        <div id="spaceList" class="space-list"></div>
    </div>
</div>

<!-- åˆ›å»ºç©ºé—´æ¨¡æ€æ¡† -->
<div id="createModal" class="modal" style="display: none;">
    <div class="modal-content clay-card">
        <h2>åˆ›å»ºå…±äº«ç©ºé—´</h2>
        <form id="createForm">
            <input type="text" id="spaceName" class="clay-input" placeholder="ç©ºé—´åç§°" required>
            <input type="password" id="spacePassword" class="clay-input" placeholder="ç©ºé—´å¯†ç " required>
            <div class="modal-actions">
                <button type="submit" class="clay-btn-primary">åˆ›å»º</button>
                <button type="button" class="clay-btn-secondary" onclick="closeCreateModal()">å–æ¶ˆ</button>
            </div>
        </form>
        <div id="createError" class="error-message" style="display: none;"></div>
    </div>
</div>

<!-- è¿›å…¥ç©ºé—´æ¨¡æ€æ¡† -->
<div id="enterModal" class="modal" style="display: none;">
    <div class="modal-content clay-card">
        <h2>è¿›å…¥å…±äº«ç©ºé—´</h2>
        <form id="enterForm">
            <input type="password" id="enterPassword" class="clay-input" placeholder="ç©ºé—´å¯†ç " required>
            <div class="modal-actions">
                <button type="submit" class="clay-btn-primary">è¿›å…¥</button>
                <button type="button" class="clay-btn-secondary" onclick="closeEnterModal()">å–æ¶ˆ</button>
            </div>
        </form>
        <div id="enterError" class="error-message" style="display: none;"></div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/space.js') }}"></script>
<script>
// åˆ‡æ¢å…¬å‘Šå±•å¼€/æŠ˜å 
function toggleAnnouncement() {
    const content = document.getElementById('announcementContent');
    const hint = document.getElementById('announcementHint');

    if (content.classList.contains('collapsed')) {
        content.classList.remove('collapsed');
        content.classList.add('expanded');
        hint.classList.remove('collapsed');
        hint.classList.add('expanded');
    } else {
        content.classList.remove('expanded');
        content.classList.add('collapsed');
        hint.classList.remove('expanded');
        hint.classList.add('collapsed');
    }
}
</script>
{% endblock %}
